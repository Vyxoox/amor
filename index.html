<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Programa do Amor â€” Vittor & Shay</title>
<style>
  body {
    background: radial-gradient(circle at center, #1a1a2e, #16213e);
    color: #fff;
    font-family: 'Courier New', monospace;
    text-align: center;
    overflow: hidden;
    height: 100vh;
    margin: 0;
  }
  h1, p { margin: 10px 0; }
  #container {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
  }
  .btn {
    background-color: #e94560;
    color: white;
    border: none;
    padding: 10px 20px;
    border-radius: 10px;
    font-size: 18px;
    cursor: pointer;
    transition: 0.3s;
  }
  .btn:hover { background-color: #ff6f91; }
  #no {
    position: fixed; /* mudou de absolute para fixed */
  }
  @keyframes floatHearts {
    0% { transform: translateY(0) scale(1); opacity: 1; }
    100% { transform: translateY(-800px) scale(1.5); opacity: 0; }
  }
  .heart {
    position: fixed;
    bottom: 0;
    color: pink;
    font-size: 20px;
    animation: floatHearts 5s linear infinite;
  }
</style>
</head>
<body>
<div id="container">
  <p id="texto"></p>
  <button class="btn" id="yes">Sim ðŸ’–</button>
  <button class="btn" id="no">NÃ£o ðŸ˜…</button>
</div>

<!-- moved audio outside the container so it is not removed when #container.innerHTML is replaced -->
<audio id="musica" src="musica.mp3" preload="auto"></audio>

<script>
const texto = "Inicializando Programa do Amor...\nCarregando sentimentos...\nCompilando lembranÃ§as compartilhadas...\nUsuÃ¡rio detectado: Shay ðŸ’–\nNÃ³s comeÃ§amos como desconhecidos\nAgora vocÃª Ã© Minha Duo mas nÃ£o quero parar por aqui!\n\nQuer ser meu duo na vida, Shay?";
let i = 0;
function digitar() {
  if (i < texto.length) {
    document.getElementById("texto").innerHTML += texto.charAt(i) === "\n" ? "<br>" : texto.charAt(i);
    i++;
    setTimeout(digitar, 60);
  }
}
digitar();

const sim = document.getElementById("yes");
const nao = document.getElementById("no");
const musica = document.getElementById("musica");

sim.onclick = () => {
  // garante que comece do inÃ­cio
  musica.currentTime = 0;
  musica.volume = 0;     // comeÃ§a silenciosa
  musica.loop = true;    // opcional: repetir a mÃºsica
  // tentar tocar (tratando a promise para capturar possÃ­veis bloqueios)
  musica.play().then(() => {
    // fade-in suave (aumenta o volume aos poucos)
    let vol = 0;
    const fade = setInterval(() => {
      if (vol < 1) {
        vol = Math.min(1, vol + 0.02);
        musica.volume = vol;
      } else {
        clearInterval(fade);
      }
    }, 100);

    document.getElementById("container").innerHTML = "<h1>ðŸ’˜ CompilaÃ§Ã£o concluÃ­da ðŸ’˜</h1><p>Status: NAMORANDO</p><h2>Vittor + Shay = âˆž</h2>";
    for (let i = 0; i < 30; i++) criarCoracao();
  }).catch(err => {
    console.error("NÃ£o foi possÃ­vel reproduzir o Ã¡udio:", err);
    alert("NÃ£o foi possÃ­vel tocar a mÃºsica automaticamente. Por favor, permita reproduÃ§Ã£o de Ã¡udio no navegador.");
    // ainda substitui o container para nÃ£o travar a interaÃ§Ã£o
    document.getElementById("container").innerHTML = "<h1>ðŸ’˜ CompilaÃ§Ã£o concluÃ­da ðŸ’˜</h1><p>Status: NAMORANDO</p><h2>Vittor + Shay = âˆž</h2>";
    for (let i = 0; i < 30; i++) criarCoracao();
  });
};

function criarCoracao() {
  const heart = document.createElement("div");
  heart.classList.add("heart");
  heart.style.left = Math.random() * 100 + "vw";
  heart.style.animationDuration = (3 + Math.random() * 2) + "s";
  heart.innerText = "ðŸ’–";
  document.body.appendChild(heart);
  setTimeout(() => heart.remove(), 5000);
}

nao.onmouseover = () => {
  const btnW = nao.offsetWidth;
  const btnH = nao.offsetHeight;
  const maxX = Math.max(0, window.innerWidth - btnW);
  const maxY = Math.max(0, window.innerHeight - btnH);
  nao.style.left = Math.random() * maxX + "px";
  nao.style.top = Math.random() * maxY + "px";
};
</script>
</body>
</html>
